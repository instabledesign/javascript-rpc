<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="../../lib/jquery/dist/jquery.min.js"></script>
    <script src="../lib/q/q.js"></script>
    <script src="../src/main.js"></script>
    <script src="../src/exception/exception.js"></script>
    <script src="../src/exception/fault.js"></script>
    <script src="../src/exception/invalid-json-rpc.js"></script>
    <script src="../src/exception/invalid-argument-exception.js"></script>
    <script src="../src/rpc/client.js"></script>
    <script src="../src/rpc/implementation.js"></script>
    <script src="../src/rpc/method/method-call.js"></script>
    <script src="../src/rpc/method/method-response.js"></script>
    <script src="../src/rpc/method/method-fault.js"></script>
    <script src="../src/rpc/method/method-return.js"></script>
    <script src="../src/rpc/transport/transport.js"></script>
    <script src="../src/rpc/transport/transport-ajax.js"></script>
    <script src="../src/rpc/transport/transport-websocket.js"></script>
    <script src="../src/jsonrpc/client.js"></script>
    <script src="../src/jsonrpc/implementation.js"></script>
</head>
<body>
<script type="application/javascript">
    var transport = new TransportAjax({
        open: {
            method: 'POST',
            url: 'http://localhost:8080/jsonrpc'
        },
        headers: {
            'Content-type': 'application/json'
        }
    });

    var client = new JsonClient('', transport);
    client
        .call('JSONRPC.Version', null, 1)
        .then(function(data){
            console.log(data);
        })
        .fail(function(e){
            console.error(e);
        });

    var transportWebsocket = new TransportWebsocket({
        url: 'ws://localhost:9090'
    });

    var clientWithWebsocket = new JsonClient(transportWebsocket);
    clientWithWebsocket
        .call('JSONRPC.Version', null, 1)
        .then(function(data){
            console.log(data);
        })
        .fail(function(e){
            console.error(e);
        });
</script>
</body>
</html>